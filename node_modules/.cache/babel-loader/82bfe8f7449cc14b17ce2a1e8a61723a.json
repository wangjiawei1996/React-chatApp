{"ast":null,"code":"import _objectSpread from \"/Users/wangjiawei/Desktop/react-chat/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios';\nvar LOGIN = 'LOGIN';\nvar LOGOUT = 'LOGOUT';\nvar USER_DATA = 'USER_DATA';\nvar initState = {\n  isAuth: false,\n  user: '李云龙',\n  age: 20\n};\nexport function auth() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN:\n      return _objectSpread({}, state, {\n        isAuth: true\n      });\n\n    case LOGOUT:\n      return _objectSpread({}, state, {\n        isAuth: false\n      });\n\n    case USER_DATA:\n      return _objectSpread({}, state, action.payload);\n\n    default:\n      return state;\n  }\n} //action\n\nexport function getUserData() {\n  return function (dispatch) {\n    axios.get('/data').then(function (res) {\n      if (res.status === 200) {\n        dispatch(userData(res.data));\n      }\n    });\n  };\n}\nexport function userData(data) {\n  return {\n    type: USER_DATA,\n    payload: data\n  };\n}\nexport function login() {\n  return {\n    type: LOGIN\n  };\n}\nexport function logout() {\n  return {\n    type: LOGOUT\n  };\n}","map":{"version":3,"sources":["/Users/wangjiawei/Desktop/react-chat/src/Auth.redux.js"],"names":["axios","LOGIN","LOGOUT","USER_DATA","initState","isAuth","user","age","auth","state","action","type","payload","getUserData","dispatch","get","then","res","status","userData","data","login","logout"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,KAAK,GAAG,OAAd;AACA,IAAMC,MAAM,GAAG,QAAf;AACA,IAAMC,SAAS,GAAG,WAAlB;AACA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,MAAM,EAAE,KADQ;AAEhBC,EAAAA,IAAI,EAAC,KAFW;AAGhBC,EAAAA,GAAG,EAAE;AAHW,CAAlB;AAKA,OAAO,SAASC,IAAT,GAAsC;AAAA,MAAxBC,KAAwB,uEAAlBL,SAAkB;AAAA,MAAPM,MAAO;;AAC3C,UAAOA,MAAM,CAACC,IAAd;AACE,SAAKV,KAAL;AACE,+BAAWQ,KAAX;AAAkBJ,QAAAA,MAAM,EAAE;AAA1B;;AACF,SAAKH,MAAL;AACE,+BAAWO,KAAX;AAAkBJ,QAAAA,MAAM,EAAE;AAA1B;;AACF,SAAKF,SAAL;AACE,+BAAWM,KAAX,EAAqBC,MAAM,CAACE,OAA5B;;AACF;AACE,aAAOH,KAAP;AARJ;AAUD,C,CACD;;AACA,OAAO,SAASI,WAAT,GAAuB;AAC5B,SAAO,UAAAC,QAAQ,EAAG;AAChBd,IAAAA,KAAK,CAACe,GAAN,CAAU,OAAV,EACGC,IADH,CACQ,UAAAC,GAAG,EAAG;AACV,UAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtBJ,QAAAA,QAAQ,CAACK,QAAQ,CAACF,GAAG,CAACG,IAAL,CAAT,CAAR;AACD;AACF,KALH;AAMD,GAPD;AAQD;AACD,OAAO,SAASD,QAAT,CAAkBC,IAAlB,EAAwB;AAC7B,SAAO;AAACT,IAAAA,IAAI,EAACR,SAAN;AAAgBS,IAAAA,OAAO,EAACQ;AAAxB,GAAP;AACD;AACD,OAAO,SAASC,KAAT,GAAiB;AACtB,SAAO;AAACV,IAAAA,IAAI,EAACV;AAAN,GAAP;AACD;AACD,OAAO,SAASqB,MAAT,GAAkB;AACvB,SAAO;AAACX,IAAAA,IAAI,EAACT;AAAN,GAAP;AACD","sourcesContent":["import axios from 'axios'\nconst LOGIN = 'LOGIN'\nconst LOGOUT = 'LOGOUT'\nconst USER_DATA = 'USER_DATA'\nconst initState = {\n  isAuth: false,\n  user:'李云龙',\n  age: 20\n}\nexport function auth(state=initState, action){\n  switch(action.type) {\n    case LOGIN:\n      return {...state, isAuth: true}\n    case LOGOUT:\n      return {...state, isAuth: false}\n    case USER_DATA:\n      return {...state, ...action.payload}\n    default:\n      return state\n  }\n}\n//action\nexport function getUserData() {\n  return dispatch=> {\n    axios.get('/data')\n      .then(res=> {\n        if (res.status === 200) {\n          dispatch(userData(res.data))\n        }\n      })\n  }\n}\nexport function userData(data) {\n  return {type:USER_DATA,payload:data}\n}\nexport function login() {\n  return {type:LOGIN}\n}\nexport function logout() {\n  return {type:LOGOUT}\n}"]},"metadata":{},"sourceType":"module"}